function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}e(module.exports,"SchemaType",(()=>n)),e(module.exports,"boolean",(()=>i)),e(module.exports,"int",(()=>o)),e(module.exports,"float",(()=>h)),e(module.exports,"string",(()=>a)),e(module.exports,"id",(()=>u)),e(module.exports,"bool",(()=>c)),e(module.exports,"array",(()=>d)),e(module.exports,"type",(()=>_)),e(module.exports,"resolver",(()=>g)),e(module.exports,"input",(()=>b)),e(module.exports,"schema",(()=>y));class t{constructor(e){this.inner=e}}class n{constructor(){}clone(){throw"not implemented"}_render(){throw"not implemented"}_body(){throw"not implemented"}_params(){return""}_reset(){}docstring(e){const t=this.clone();return t._docstring=e,t}}class r extends n{constructor(e,t){super(),this.gql=e,this.__body=t,this.worksInInput=!0}clone(){return new r(this.gql)}_render(){return this.gql}_body(){return this.__body?.()||""}required(){if(this.gql.endsWith("!"))throw"Already non-nullable";return new r(this.gql+"!",this.__body)}docstring(e){const t=this.clone();return t._docstring=e,t}}const s=e=>e.split("\n").map((e=>"  "+e)).join("\n"),i=new r("Boolean"),o=new r("Int"),h=new r("Float"),a=new r("String"),u=new r("ID"),c=i;class l extends r{constructor(e,t){super(e,(()=>t._body())),this.inner=t,this.worksInInput=!0}clone(){return new l(this.gql,this.inner)}_reset(){this.inner._reset()}}const d=e=>new l(`[${e._render()}]`,e);class p extends n{constructor(e,t,n){super(),this.name=e,this.shape=t,this.written=n,this._gdocstring=""}clone(){return new p(this.name,this.shape,this.written)}_render(){return this.name}_body(){return this.written.inner?"":(this.written.inner=!0,`${this._gdocstring?`"""\n${this._gdocstring}\n"""\n`:""}type ${this.name.replace("!","")} {\n${s(Object.entries(this.shape).map((([e,t])=>`${t._docstring?`"""\n${t._docstring}\n"""\n`:""}${e}${t._params()}: ${t._render()}`)).join(",\n"))}\n}\n\n${Object.values(this.shape).map((e=>e._body())).join("\n")}`)}_reset(){this.written.inner=!1,Object.values(this.shape).forEach((e=>e._reset()))}extend(e,n){return new p(e,{...this.shape,...n},new t(!1))}toGraphQL(){return this._reset(),this._body().split("\n").filter((e=>!!e)).join("\n").replace(/}\n/g,"}\n\n")+"\n"}required(){if(this.name.endsWith("!"))throw"Already non-nullable";return new p(this.name+"!",this.shape,this.written)}typeDocstring(e){const t=this.clone();return t._gdocstring=e,t}}const _=(e,n)=>new p(e,n,new t(!1));class m extends n{constructor(e,t){super(),this.args=e,this.returns=t}clone(){return new m(this.args,this.returns)}_body(){return Object.values(this.args).concat(this.returns).map((e=>e._body())).join("\n")}_render(){return this.returns._render()}_params(){return Object.entries(this.args).length?`(${Object.entries(this.args).map((([e,t])=>`${e}: ${t._render()}`)).join(", ")})`:""}_reset(){Object.values(this.args).forEach((e=>e._reset()))}}const g=(e,t)=>new m(e,t);class w extends p{constructor(e,t,n){super(e,t,n)}_body(){return this.written.inner?"":(this.written.inner=!0,`${this._gdocstring?`"""\n${this._gdocstring}\n"""\n`:""}input ${this.name.replace("!","")} {\n${s(Object.entries(this.shape).map((([e,t])=>`${t._docstring?`"""\n${t._docstring}\n"""\n`:""}${e}${t._params()}: ${t._render()}`)).join(",\n"))}\n}\n\n${Object.values(this.shape).map((e=>e._body())).join("\n")}`)}}const b=(e,n)=>new w(e,n,new t(!1));class $ extends p{constructor(e,n){super("Schema",{Query:e.shape,Mutation:n.shape},new t(!1)),this.queries=e,this.mutations=n}clone(){return new $(this.queries,this.mutations)}toGraphQL(){return this.queries._reset(),this.mutations._reset(),`${this.queries.toGraphQL()}\n\n${this.mutations.toGraphQL()}`.split("\n").filter((e=>!!e)).join("\n").replace(/}\n/g,"}\n\n")+"\n"}}const y=(e,t)=>new $(_("Query",e).required(),_("Mutation",t).required());